<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>女主角茶饮-产品介绍</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/qa.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/swiper.animate.min.js"></script>
    <style>
        body {
            margin: 0 auto
        }
    </style>
</head>

<body>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide page1" data-hash="slide1">
                <div class="text ani" swiper-animate-effect="fadeIn" swiper-animate-duration="2s"
                    swiper-animate-delay="2s">一杯初恋的味道
                </div>
                <div class="logo ani" swiper-animate-effect="bounceIn" swiper-animate-duration="1s"
                    swiper-animate-delay="1s">
                    <img src="images/01_02.png" alt="">
                </div>
                <div class="btn-next">
                    <div class="next">
                    </div>
                    <span>向上滑动</span>
                </div>
            </div>
            <div class="swiper-slide page2" data-hash="slide2">
                <div class="text ani" swiper-animate-effect="fadeIn" swiper-animate-duration="2s"
                    swiper-animate-delay="2s">一杯初恋的味道
                </div>
                <div class="logo ani" swiper-animate-effect="bounceIn" swiper-animate-duration="1s"
                    swiper-animate-delay="1s">
                    <img src="images/01_02.png" alt="">
                </div>
                <div class="btn-next">
                    <div class="next">
                    </div>
                    <span>向上滑动</span>
                </div>
            </div>
        </div>
        <!--<div class="swiper-pagination"></div>-->
    </div>
    <script>
        function Calculation() {
            const BodyH = $(window).height()
            $('body').width(BodyH * 9 / 16)
        }
        new Swiper('.swiper-container', {
            // spaceBetween: 30,
            direction: 'vertical',
            hashNavigation: {
                watchState: true,
            },
            mousewheelControl: true,
            onInit: function (swiper) {
                swiperAnimateCache(swiper);
                swiperAnimate(swiper);
            },
            onSlideChangeEnd: function (swiper) {
                swiperAnimate(swiper);
            },
            onTransitionEnd: function (swiper) {
                swiperAnimate(swiper);
            },
            watchSlidesProgress: true,
            onProgress: function (swiper) {
                for (var i = 0; i < swiper.slides.length; i++) {
                    var slide = swiper.slides[i];
                    var progress = slide.progress;
                    var translate = progress * swiper.height / 4;
                    scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
                    var opacity = 1 - Math.min(Math.abs(progress / 2), 0.5);
                    slide.style.opacity = opacity;
                    es = slide.style;
                    es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,' + translate + 'px,-' + translate + 'px) scaleY(' + scale + ')';

                }
            },

            onSetTransition: function (swiper, speed) {
                for (var i = 0; i < swiper.slides.length; i++) {
                    es = swiper.slides[i].style;
                    es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

                }
            },
            on: {
                init: function () {
                    swiperAnimateCache(this); //隐藏动画元素
                    this.emit('slideChangeTransitionEnd');//在初始化时触发一次slideChangeTransitionEnd事件
                    // if(this.activeIndex=="3"){
                    //     document.location="pinpai.html"
                    // }
                },
                slideChangeTransitionEnd: function () {
                    swiperAnimate(this); //每个slide切换结束时运行当前slide动画
                    // this.slides.eq(this.activeIndex).find('.ani').removeClass('ani');//动画只展示一次
                    // if (this.activeIndex == "2") {
                    //     url("pinpai.html")
                    // }
                    Calculation()
                }
            }
        });
    </script>
    <script src="js/qa.js"></script>
</body>

</html>